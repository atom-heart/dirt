(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=h(n(1)),a=n(6),o=n(9),u=n(29),i=n(69),s=h(n(70)),c=h(n(31)),f=h(n(72)),d=h(n(75)),p=n(10);function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventId=n.props.match.params.id,n.reloadEvent=n.reloadEvent.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"reloadEvent",value:function(e){e.preventDefault(),this.props.fetchEvent(this.eventId)}},{key:"componentDidMount",value:function(){this.props.fetchEvent(this.eventId)}},{key:"render",value:function(){return this.props.isLoading?l.default.createElement(c.default,null):this.props.error?l.default.createElement("div",null,"Error fetching event data. ",l.default.createElement("a",{href:"#",onClick:this.reloadEvent},"Click here")," to try again."):l.default.createElement(p.Row,null,l.default.createElement(s.default,{eventId:this.eventId,eventName:this.props.name}),l.default.createElement("div",{className:"col",id:"main"},l.default.createElement(u.Route,{exact:!0,path:"/event/"+this.eventId,component:f.default}),l.default.createElement(u.Route,{exact:!0,path:"/event/"+this.eventId+"/:stageOrder",component:d.default})))}}]),t}();t.default=(0,o.connect)(function(e){return e.event},function(e){return(0,a.bindActionCreators)({fetchEvent:i.fetchEvent},e)})(m)},67:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){return r.default.createElement("div",{className:"card-header d-flex align-items-baseline justify-content-between"},r.default.createElement("h4",null,e.title),e.subtitle&&r.default.createElement("span",{className:"text-muted weather"},e.subtitle))}},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){return r.default.createElement("div",{className:"card-footer",style:e.style},r.default.createElement("button",{onClick:e.onClick,className:"btn btn-link progress-toggle"},e.children))}},69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchEvent=void 0;var r=n(27),l=n(30),a=n(28);t.fetchEvent=function(e){return function(t){t((0,l.isLoading)()),fetch(r.BASE_URL+"api/events/"+e).then(function(e){return e.json()}).then(function(e){t((0,l.loadEvent)(e.event)),t((0,a.loadStages)(e.stages))},function(){t((0,l.throwError)())})}}},70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=i(n(1)),a=n(9),o=n(29),u=i(n(71));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.stageIds.map(function(t){var n=e.props.stages[t];return l.default.createElement("li",{className:"nav-item",key:n.id},l.default.createElement(o.NavLink,{to:"/event/"+e.props.eventId+"/"+n.order,className:"nav-link"},n.country))});return l.default.createElement("nav",{id:"sidebar",className:"col-4"},l.default.createElement("h2",{className:"navbar-brand"},this.props.eventName),l.default.createElement(u.default,null,l.default.createElement("li",{className:"nav-item"},l.default.createElement(o.NavLink,{exact:!0,to:"/event/"+this.props.eventId,className:"nav-link"},"Event"))),l.default.createElement(u.default,null,t))}}]),t}();t.default=(0,a.connect)(function(e){return{stages:e.stages.byId,stageIds:e.stages.allIds}},null,null,{pure:!1})(s)},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1));l(n(0)),n(29);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r.default.createElement("ul",{className:"nav flex-column nav-pills top-level-menu"},e.children)}},72:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=c(n(1)),a=n(9),o=n(10),u=c(n(73)),i=c(n(74)),s=c(n(67));c(n(33));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(o.Card,null,l.default.createElement(s.default,{title:this.props.finished?"Event finished":"Event in progress"}),l.default.createElement("table",{className:"table"},l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"Started:"),l.default.createElement("td",null,this.props.start)),l.default.createElement("tr",null,l.default.createElement("td",null,"Game:"),l.default.createElement("td",null,"DiRT Rally")),l.default.createElement("tr",null,l.default.createElement("td",null,"Car classes:"),l.default.createElement("td",null,this.props.carClasses.map(function(e){return e.name}).join(", ")))))),l.default.createElement("hr",null),this.props.finished?l.default.createElement(o.Card,null,l.default.createElement(s.default,{title:"General ranking"}),l.default.createElement(u.default,{ranking:this.props.ranking})):l.default.createElement(o.Card,null,l.default.createElement(s.default,{title:"Players"}),l.default.createElement(i.default,{players:this.props.players})))}}]),t}();t.default=(0,a.connect)(function(e){return{game:e.event.game,players:e.event.players,carClasses:e.event.carClasses,ranking:e.event.ranking,finished:e.event.finished,start:e.event.start}})(f)},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){var t=e.ranking.map(function(e){return r.default.createElement("tr",{key:e.id},r.default.createElement("td",null,e.position),r.default.createElement("td",null,e.name),r.default.createElement("td",null,e.points),r.default.createElement("td",null,e.car))});return r.default.createElement("table",{className:"table"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",{className:"pos",scope:"col"},"Pos."),r.default.createElement("th",{scope:"col"},"Name"),r.default.createElement("th",{scope:"col"},"Pts."),r.default.createElement("th",{scope:"col"},"Car"))),r.default.createElement("tbody",null,t))}},74:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){var t=e.players.map(function(e){return r.default.createElement("tr",{key:e.id},r.default.createElement("td",null,e.order),r.default.createElement("td",null,e.name),r.default.createElement("td",null,e.car_name))});return r.default.createElement("table",{className:"table"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",{className:"pos",scope:"col"},"#"),r.default.createElement("th",{scope:"col"},"Name"),r.default.createElement("th",{scope:"col"},"Car"))),r.default.createElement("tbody",null,t))}},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),a=y(l),o=n(9),u=n(6),i=n(76),s=n(10),c=y(n(77)),f=y(n(67)),d=y(n(84)),p=y(n(85)),h=y(n(68)),m=y(n(86)),E=y(n(87));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showProgress:!1},n.loadStage=n.loadStage.bind(n),n.toggleProgress=n.toggleProgress.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"loadStage",value:function(){this.props.fetchStage(this.props.stage.id)}},{key:"toggleProgress",value:function(){this.setState({showProgress:!this.state.showProgress})}},{key:"componentDidMount",value:function(){!this.props.stage||this.props.stage.isLoading||this.props.stage.hasLoaded||this.loadStage()}},{key:"componentDidUpdate",value:function(){!this.props.stage||this.props.stage.isLoading||this.props.stage.hasLoaded||this.props.stage.error||this.loadStage()}},{key:"render",value:function(){var e=this;if(this.props.stage){if(this.props.stage.error)return a.default.createElement("div",null,"Error loading stage data. ",a.default.createElement("a",{href:"#",onClick:this.loadStage},"Click here")," to try again.");if(this.props.stage.isLoading||!this.props.stage.hasLoaded)return a.default.createElement("div",null,"Loading...");var t=this.props.splitIds.filter(function(t){return e.props.splits[t].stage_id==e.props.stage.id}).map(function(t){var n=e.props.splits[t];return a.default.createElement(c.default,{split:n,key:n.id})});return a.default.createElement("div",null,a.default.createElement(s.Card,null,a.default.createElement(f.default,{title:this.props.stage.country,subtitle:this.props.stage.finished?"Finished":"In progress"})),a.default.createElement("hr",null),this.props.stage.finished&&a.default.createElement(l.Fragment,null,a.default.createElement(s.Card,null,a.default.createElement(f.default,{title:"Stage ranking"}),this.state.showProgress?a.default.createElement(p.default,{ranking:this.props.stage.progress}):a.default.createElement(d.default,{ranking:this.props.stage.ranking}),a.default.createElement(h.default,{onClick:this.toggleProgress},this.state.showProgress?"Back to ranking":"Show progress")),a.default.createElement("hr",null)),t,this.props.stage.finished&&a.default.createElement("div",null,a.default.createElement("hr",null),a.default.createElement(m.default,null)))}return a.default.createElement("div",null,"No such stage.")}}]),t}();t.default=(0,o.connect)(function(e,t){var n=(0,E.default)(e,t.match.params.stageOrder);return{splits:e.splits.byId,splitIds:e.splits.allIds,players:e.event.players,stage:n}},function(e){return(0,u.bindActionCreators)({fetchStage:i.fetchStage},e)})(v)},76:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchStage=void 0;var r=n(27),l=n(28),a=n(20);t.fetchStage=function(e){return function(t){t((0,l.isLoading)(e)),fetch(r.BASE_URL+"api/stages/"+e).then(function(e){return e.json()}).then(function(e){t((0,l.updateStage)(e.stage)),t((0,a.loadSplits)(e.splits))},function(){t((0,l.throwError)(e))})}}},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),a=d(l),o=n(10),u=d(n(67)),i=d(n(78)),s=d(n(81)),c=d(n(68)),f=d(n(82));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showProgress:!1,showModal:!1,user:null,finishSplitLoading:!1},n.toggleProgress=n.toggleProgress.bind(n),n.toggleModal=n.toggleModal.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"toggleProgress",value:function(e){this.setState({showProgress:!this.state.showProgress})}},{key:"toggleModal",value:function(e){this.setState({showModal:!this.state.showModal})}},{key:"render",value:function(){var e=this.state.showProgress?a.default.createElement(s.default,{ranking:this.props.split.progress}):a.default.createElement(i.default,{split:this.props.split});return a.default.createElement(l.Fragment,null,a.default.createElement(o.Card,null,a.default.createElement(u.default,{title:this.props.split.order+". "+this.props.split.track,subtitle:this.props.split.weather}),(this.props.split.active||this.props.split.finished)&&e,(this.props.split.active||this.props.split.finished)&&a.default.createElement(c.default,{onClick:this.toggleProgress},this.state.showProgress?"Back to ranking":"Show progress")),this.props.split.finished&&this.props.split.active&&a.default.createElement(l.Fragment,null,a.default.createElement(o.Card,null,a.default.createElement(f.default,{splitId:this.props.split.id}))))}}]),t}();t.default=p},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),l=o(n(79)),a=o(n(80));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=[],n=e.split.active?a.default:l.default;return e.split.ranking.finished.forEach(function(l){t.push(r.default.createElement(n,{key:l.id,split:e.split,player:l},r.default.createElement("td",null,l.position),r.default.createElement("td",null,l.name),r.default.createElement("td",null,l.time),r.default.createElement("td",null,l.time_diff)))}),e.split.ranking.disqualified.forEach(function(l){t.push(r.default.createElement(n,{key:l.id,split:e.split,player:l},r.default.createElement("td",null,"–"),r.default.createElement("td",null,l.name),r.default.createElement("td",{colSpan:"2"},"disqualified")))}),e.split.ranking.stage_disqualified.forEach(function(e){t.push(r.default.createElement(l.default,{key:e.id},r.default.createElement("td",null,"–"),r.default.createElement("td",null,e.name),r.default.createElement("td",{colSpan:"2"},"previously disqualified")))}),e.split.ranking.not_finished.forEach(function(l){t.push(r.default.createElement(n,{key:l.id,split:e.split,player:l},r.default.createElement("td",null),r.default.createElement("td",null,l.name),r.default.createElement("td",{colSpan:"2"})))}),r.default.createElement("table",{className:"table"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",{className:"pos",scope:"col"},"Pos."),r.default.createElement("th",{scope:"col"},"Name"),r.default.createElement("th",{scope:"col"},"Time"),r.default.createElement("th",{scope:"col"},"Diff."))),r.default.createElement("tbody",null,t))}},79:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){return r.default.createElement("tr",null,e.children)}},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),a=n(9),o=n(6),u=n(32),i=n(11),s=n(34),c=n(14),f=n(35);var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openModal=n.openModal.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"openModal",value:function(){var e={turnId:this.props.player.turn_id,player:this.props.player.name,track:this.props.split.track};this.props.player.time?e.time=(0,u.strToTime)(this.props.player.time):this.props.player.disqualified&&(e.disqualified=!0),this.props.mountTurn(e),this.props.showModal(f.TURN_MODAL)}},{key:"render",value:function(){return l.default.createElement("tr",{className:"interactive-row",onClick:this.openModal},this.props.children)}}]),t}();t.default=(0,a.connect)(null,function(e){return(0,o.bindActionCreators)({mountTurn:i.mountTurn,sendTurn:s.sendTurn,showModal:c.showModal},e)})(d)},81:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){var t=[];return e.ranking.finished.forEach(function(e){t.push(r.default.createElement("tr",{key:e.id},r.default.createElement("td",null,e.position),r.default.createElement("td",null,e.position_diff),r.default.createElement("td",null,e.name),r.default.createElement("td",null,e.time),r.default.createElement("td",null,e.time_diff)))}),e.ranking.disqualified.forEach(function(e){t.push(r.default.createElement("tr",{key:e.id},r.default.createElement("td",null,"–"),r.default.createElement("td",null,"–"),r.default.createElement("td",null,e.name),r.default.createElement("td",{colSpan:"3"},"disqualified")))}),e.ranking.not_finished.forEach(function(e){t.push(r.default.createElement("tr",{key:e.id,player:e},r.default.createElement("td",{colSpan:"2"}),r.default.createElement("td",null,e.name),r.default.createElement("td",{colSpan:"3"})))}),r.default.createElement("table",{className:"table"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",{className:"pos",scope:"col"},"Pos."),r.default.createElement("th",{scope:"col"},"Diff."),r.default.createElement("th",{scope:"col"},"Name"),r.default.createElement("th",{scope:"col"},"Time"),r.default.createElement("th",{scope:"col"},"Diff."))),r.default.createElement("tbody",null,t))}},82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=s(n(1)),a=n(6),o=n(9),u=n(83),i=s(n(68));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.split=n.props.splits[n.props.splitId],n.finishSplit=n.finishSplit.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,[{key:"finishSplit",value:function(){this.split.isLoading||this.props.finishSplit(this.split.id)}},{key:"render",value:function(){var e=void 0;return e=this.split.isLoading?"Loading...":this.split.error?"Error occured, click to try again":this.split.last_in_stage?"Finish stage":"Start next split",l.default.createElement(i.default,{style:{borderTop:0,borderRadius:"4px"},onClick:this.finishSplit},e)}}]),t}();t.default=(0,o.connect)(function(e){return{splits:e.splits.byId}},function(e){return(0,a.bindActionCreators)({finishSplit:u.finishSplit},e)})(c)},83:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.finishSplit=void 0;var r=n(27),l=n(20),a=n(28),o=n(30);t.finishSplit=function(e){return function(t){t((0,l.isLoading)(e)),fetch(r.BASE_URL+"api/splits/"+e+"/finish",{method:"PUT"}).then(function(e){return e.json()}).then(function(e){t((0,l.updateSplits)(e.splits)),e.hasOwnProperty("stage")&&t((0,a.updateStage)(e.stage)),e.hasOwnProperty("event")&&t((0,o.updateEvent)(e.event))},function(){t((0,l.throwError)(e))})}}},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){var t=[];return e.ranking.finished.forEach(function(e){t.push(r.default.createElement("tr",{key:e.id},r.default.createElement("td",null,e.position),r.default.createElement("td",null,e.name),r.default.createElement("td",null,e.points),r.default.createElement("td",null,e.time),r.default.createElement("td",null,e.time_diff)))}),e.ranking.disqualified.forEach(function(e){t.push(r.default.createElement("tr",{key:e.id},r.default.createElement("td",null,e.position),r.default.createElement("td",null,e.name),r.default.createElement("td",null,e.points),r.default.createElement("td",{colSpan:"2"},"disqualified")))}),r.default.createElement("table",{className:"table"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",{className:"pos",scope:"col"},"Pos."),r.default.createElement("th",{scope:"col"},"Name"),r.default.createElement("th",{scope:"col"},"Pts."),r.default.createElement("th",{scope:"col"},"Time"),r.default.createElement("th",{scope:"col"},"Diff."))),r.default.createElement("tbody",null,t))}},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){var t=e.ranking.map(function(e){return r.default.createElement("tr",{key:e.id},r.default.createElement("td",null,e.position),r.default.createElement("td",null,e.position_diff),r.default.createElement("td",null,e.name),r.default.createElement("td",null,e.points))});return r.default.createElement("table",{className:"table"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",{className:"pos",scope:"col"},"Pos."),r.default.createElement("th",{scope:"col"},"Diff."),r.default.createElement("th",{scope:"col"},"Name"),r.default.createElement("th",{scope:"col"},"Pts."))),r.default.createElement("tbody",null,t))}},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(){return r.default.createElement("div",{className:"alert border d-flex justify-content-between align-items-center"},r.default.createElement("span",null,"Stage has finished!"),r.default.createElement("button",{onClick:function(){return window.scrollTo(0,0)},className:"btn btn-primary scroll-top"},"Show ranking"))}},87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(88)),l=a(n(89));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(function(e,t){var n=(0,l.default)(e),r=Object.keys(n).find(function(e){return n[e].order===parseInt(t,10)});return n[r]})},88:function(e,t,n){"use strict";n.r(t);var r=function(e,t){return e===t};t.default=function(e,t){var n;void 0===t&&(t=r);var l,a=[],o=!1,u=function(e,n){return t(e,a[n],n)};return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return o&&n===this&&r.length===a.length&&r.every(u)?l:(l=e.apply(this,r),o=!0,n=this,a=r,l)}}},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.stages.byId}}}]);